{% extends 'base.html' %}
{% load static %}
{% load crispy_forms_tags %}
{% block main %}
<link rel="stylesheet" href="{% static 'css/card.css' %}">
<!-- <link rel="stylesheet" href="{% static 'css/form.css' %}"> -->
<div class="mt-3">
    <div class="idCard">
        <style>
            form p{
                display: flex;
                gap:1rem;
                padding: 0.5rem;
                align-items: center;
            }
            #id_name{
                width: 100% !important;
            }
        </style>
        <div>
            <div>
                <div class="m-3">
                <a href="#" onclick="window.print()" class="m-3 btn btn-warning text-center text-white m-3 mx-auto">Print cards</a>
                <a href="{% url 'inhouse' %}" class="m-3 btn btn-warning text-center text-white m-3 mx-auto">Add inhouse cards</a>
            </div>
                <form class="form-control m-3" method="post">
                    <h3 class="text-center" style="font-weight: 900;margin-top: 0.5rem;">Create Special Card</h3>
                    <hr>
                    {{ form.as_p }}
                    {% csrf_token %}
                    <style>
                        #id_pastor{
                            appearance: auto;
                        }
                    </style>
                    <hr>
                    <div class="text-center">
                        <button  type="submit" class="btn btn-warning text-white" >Add special card</button>
                    </div>
                </form>
            </div>
            
            <div class="cardlist">
                {% for attendee in  specialcard %}
                <div class="{% if attendee.pastor %}pastor {% else %}Guest{% endif %}">
                    <div class="card front">
                        <div>
                            <div class="header">
                                <img src="{% static 'img/cards/p_logo.png' %}" alt="">
                                <h6 style="margin-bottom: 0;">Again and Afresh</h6>
                                <p>The Gathering Of Belivers</p>
                            </div>
                            <div>
                                <img src="{% static 'img/cards/R2R_P.png' %}" alt="">
                            </div>
                            <div class="box">
                                <h4>
                                    <div>
                                        <div>
                                            <div>
                                                {{ attendee.name | title }}
                                            </div>
                                        </div>
                                    </div>
                                </h4>
                            </div>
                            <div>
                                <h6 class="position">{{attendee.position}}</h6>
                        </div>
                        </div>
                    </div>
                    <div class="card back">
                        <div class="box qr">
                        <div style="margin-top: 10%;border: none !important;"></div>
                        <h4>
                                <div>
                                    <div style="place-content: center;">
                                            <img style="width: 110px;" src="{{attendee.qr_code}}" alt="">
                                    </div>
                                </div>
                            </h4>
                            <div>
                                   
                            </div>
                            <div class="card_id" style="background: #cbeaf0;color: black;margin: 1rem -1rem;padding: 10px;"><h4 style="margin: 0;">{{attendee.id}}</h4></div>
                            <div><h6>againandafresh.org</h6></div>
                        </div>
                    </div>
                </div>
                {% endfor %}
                {% for attendee in Attendee %}
                <div class="
                {% if attendee.inhouse %}  
                    {% if attendee.volunteers.Volunteer and attendee.Are_you_a_pastor == False %}
                        worker
                    {% elif attendee.Are_you_a_pastor %}
                    i-pastor
                    {% else %}
                        participant
                    {% endif %}
                {% else %}
                    {% if attendee.volunteers.Volunteer and attendee.Are_you_a_pastor == False %}
                        volunteer
                    {% elif attendee.Are_you_a_pastor %}
                        o-pastor
                    {% else %}
                        participant
                    {% endif %}
                {% endif %}">
                    <div class="card front">
                        <div>
                            <div class="header">
                                <img src="{% static 'img/cards/p_logo.png' %}" alt="">
                                <h6 style="margin-bottom: 0;">Again and Afresh</h6>
                                <p>The Gathering Of Belivers</p>
                            </div>
                            <div>
                                <img src="{% static 'img/cards/R2R_P.png' %}" alt="">
                            </div>
                            <div class="box">
                                <h4>
                                    <div>
                                        <div>
                                            <div>
                                                {{ attendee.Full_Name | title }}
                                            </div>
                                        </div>
                                    </div>
                                </h4>
                            </div>
                            <div>
                                <h6 class="position">
                                    {% if attendee.inhouse %}  
                                        {% if attendee.volunteers.Volunteer and attendee.Are_you_a_pastor == False %}
                                            WORKERS
                                        {% elif attendee.Are_you_a_pastor %}
                                        INHOUSE PASTOR
                                        {% else %}
                                            PARTICIPANT
                                        {% endif %}
                                    {% else %}
                                        {% if attendee.volunteers.Volunteer and attendee.Are_you_a_pastor == False %}
                                            VOLUNTEER
                                        {% elif attendee.Are_you_a_pastor %}
                                            VISITING PASTOR
                                        {% else %}
                                            PARTICIPANT
                                        {% endif %}
                                    {% endif %}
                                </h6>
                            </div>
                        </div>
                    </div>
                    <div class="card back">
                        <div class="box qr">
                        <div style="margin-top: 10%;border: none !important;"></div>
                        <h4>
                                <div>
                                    <div style="place-content: center;">
                                            <img style="width: 110px;" src="{{attendee.qr_code}}" alt="">
                                    </div>
                                </div>
                            </h4>
                            <div>
                                   
                            </div>
                            <div class="card_id" style="margin: 1rem -1rem;padding: 10px;"><h4 style="margin: 0;">{{attendee.id}}</h4></div>
                            <div><h6>againandafresh.org</h6></div>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
    </div>
    </div>
</div>

<script>
    function addClassesToFormFields() {
        var form = document.getElementById("myForm");
        var fields = document.querySelectorAll("input, select, textarea");  // Select all input, select, and textarea elements within the form

        for (var i = 0; i < fields.length; i++) {
            fields[i].classList.add("form-control");
            fields[i].classList.add("form-control-lg");
        }
    }
    addClassesToFormFields()
   
    document.getElementById("navRegister").classList.add("active")
</script>
{% endblock main %}