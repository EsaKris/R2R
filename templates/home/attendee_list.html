{% extends 'base.html' %}
{% load static %}
{% load crispy_forms_tags %}
{% block main %}
<link rel="stylesheet" href="{% static 'css/card.css' %}">
<div class="mt-3">
    <div class="idCard">
        <div>
            <div>
                <a href="#" onclick="window.print()" class="btn btn-warning text-center text-white m-3 mx-auto">Print cards</a>
                <form class="form-control" method="post">
                    {{ form | crispy }}
                    {% csrf_token %}
                    <input type="submit" class="btn btn-outline text-white text-center btn-warning" value="Add special card">
                </form>
            </div>
            
            <div class="cardlist">
                
                {% for attendee in Attendee %}
                <div class="{% if attendee.Are_you_a_pastor %}pastor {% elif attendee.volunteers.Volunteer == False %}attendee{% else %}volunteer{% endif %}">
                    <div class="card front">
                        <div>
                            <div class="header">
                                <img src="{% static 'img/cards/p_logo.png' %}" alt="">
                                <h6 style="margin-bottom: 0;">Again and Afresh</h6>
                                <p>The Gathering Of Belivers</p>
                            </div>
                            <div>
                                <img src="{% static 'img/cards/R2R_P.png' %}" alt="">
                            </div>
                            <div class="box">
                                <h4>
                                    <div>
                                        <div>
                                            <div>
                                                {{ attendee.Full_Name | title }}
                                            </div>
                                        </div>
                                    </div>
                                </h4>
                            </div>
                            <div>
                                <h6 class="position">{% if attendee.volunteers.Volunteer and attendee.Are_you_a_pastor == False %}
                                    VOLUNTEER
                                    {% elif attendee.Are_you_a_pastor %}
                                    PASTOR
                                    {% else %}
                                    PARTICIPANT
                                {% endif %}</h6>
                        </div>
                        </div>
                    </div>
                    <div class="card back">
                        <div class="box">
                        <div style="margin-top: 10%;border: none !important;"></div>
                        <h4>
                                <div>
                                    <div>
                                        <div>
                                            <img style="width: 110px;" src="{{attendee.qr_code}}" alt="">
                                        </div>
                                    </div>
                                </div>
                            </h4>
                            <div>
                                   
                            </div>
                            <div class="card_id" style="background: #cbeaf0;color: black;margin: 1rem -1rem;padding: 10px;"><h4 style="margin: 0;">{{attendee.id}}</h4></div>
                            <div><h6>againandafresh.org</h6></div>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
    </div>
    </div>
</div>

<script>
    function addClassesToFormFields() {
        var form = document.getElementById("myForm");
        var fields = document.querySelectorAll("input, select, textarea");  // Select all input, select, and textarea elements within the form

        for (var i = 0; i < fields.length; i++) {
            fields[i].classList.add("form-control");
            fields[i].classList.add("form-control-lg");
        }
    }
    addClassesToFormFields()
   
    document.getElementById("navRegister").classList.add("active")
</script>
{% endblock main %}